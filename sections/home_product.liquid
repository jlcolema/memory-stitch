<div class="clearfix"></div>

<section class="home_sec_four">
  <div class="top_seller">
    <h4>{{ section.settings.title }}</h4>
    <h5>{{ section.settings.tag }}</h5>
    <div class="clearfix"></div>
    {% assign s = 1 %}
    {%- assign product = all_products[section.settings.product] -%}

    {%- assign current_variant = product.selected_or_first_available_variant -%}
    {%- assign product_image_zoom_size = '1024x1024' -%}
    {%- assign product_image_scale = '2' -%}
    {%- assign enable_zoom = section.settings.enable_zoom -%}
    {%- assign compare_at_price = current_variant.compare_at_price -%}
    {%- assign price = current_variant.price -%}

    <div class="row">
      <div class="product_main">
        <div class="col-lg-6 col-ms-6 col-sm-6 col-xs-12">
          <div class="home_product_img">
            <a href="{{ product.url }}">
              {{ product.featured_image.src | image_url: width: 600 | image_tag: widths: '180, 360, 540, 720, 900, 1080, 1296, 1512, 1728, 2048', loading: 'lazy', alt: 'image', class: 'proimg' }}
            </a>
          </div>
        </div>
        <div class="col-lg-6 col-ms-6 col-sm-6 col-xs-12">
            {%- if shop.taxes_included or shop.shipping_policy.body != blank -%}
            <div class="product__policies rte">
              {%- if shop.taxes_included -%}
              {{ 'products.product.include_taxes' | t }}
              {%- endif -%}
              {%- if shop.shipping_policy.body != blank -%}
              {{ 'products.product.shipping_policy_html' | t: link: shop.shipping_policy.url }}
              {%- endif -%}
            </div>
            {%- endif -%}

            {% if section.settings.show_quantity_selector %}
            <div id="error-quantity-{{ section.id }}" class="form-message form-message--error product__quantity-error hide" tabindex="-1">
              {% include 'icon-error' %} {{ 'products.product.quantity_minimum_message' | t }}
            </div>
            {% endif %}

            {% capture "form_classes" -%}
            product-form product-form-{{ section.id }}{% unless section.settings.show_variant_labels %} product-form--hide-variant-labels{% endunless %}{% if section.settings.enable_payment_button and product.has_only_default_variant%} product-form--payment-button-no-variants{% endif %}
            {%- endcapture %}

            {% form 'product', product, class:form_classes, novalidate: 'novalidate' %}
              {% comment %}
                Automatically inserted by Shop Pay Installments theme updater
              {% endcomment %}
              {% unless settings.disable_autogenerated_payment_terms %}
                {{ form | payment_terms }}
              {% endunless %}

            <div class="home_product_content">
              <span class="shopify-product-reviews-badge" data-id="{{ product.id }}"></span>

              <div class="home_product_price">

                <label>Starting at</label>
                <h4>{% include 'product-price', variant: current_variant %}</h4>

                {% unless product.has_only_default_variant %}
                  {% for option in product.options_with_values %}
                      <div class="selector-wrapper js product-form__item">
                          <label {% if option.name == 'default' %} class="label--hidden" {% endif %} for="SingleOptionSelector-{{ forloop.index0 }}">
                              {{ option.name }}
                          </label>
                          <select class="single-option-selector single-option-selector-{{ section.id }} product-form__input" data-index="option{{ forloop.index }}" id="SingleOptionSelector-{{ forloop.index0 }}">
                              {% for value in option.values %}
                                  <option value="{{ value | escape }}" {% if option.selected_value == value %} selected="selected" {% endif %}>{{ value }}</option>
                              {% endfor %}
                          </select>
                      </div>
                    {% endfor %}
                  {% endunless %}

                  <select class="product-form__variants no-js" id="ProductSelect-{{ section.id }}" name="id">
                    {% for variant in product.variants %}
                      {% if variant.available %}
                        <option {% if variant == product.selected_or_first_available_variant %} selected="selected" {% endif %} value="{{ variant.id }}">
                            {{ variant.title }}
                        </option>
                      {% else %}
                        <option disabled="disabled">{{ variant.title }}
                            -
                            {{ 'products.product.sold_out' | t }}</option>
                      {% endif %}
                    {% endfor %}
                  </select>

                  {% assign checkcolor = false %}
                  {% for option in product.options_with_values %}
                    {% if option.name contains 'Color' or option.name contains 'COLOR' or option.name contains 'color' %}
                      {% assign checkcolor = true %}
                      {% assign checkname = option.name %}
                    {% endif %}
                  {% endfor %}

                  {% if product.available and product.variants.size > 1 %}
                    {% if checkcolor == true %}
                      <label>{{ checkname }}</label>
                      {% include 'swatch' with checkname %}
                    {% endif %}
                  {% endif %}

                {% if section.settings.show_quantity_selector %}
                  <label for="Quantity-{{ section.id }}">{{ 'products.product.quantity' | t }}</label>
                  <select class="quantity" id="Quantity-{{ section.id }}" name="quantity">
                    {% for i in (1..10) %}
                    <option value="{{ i }}">{{ i }}</option>
                    {% endfor %}
                  </select>
                {% endif %}
              </div>

              <div class="home_product_btn" style="max-width: 40rem;">
                <div class="dg">
                  <div class="product_btn">
                    <button type="submit" name="add" id="AddToCart-{{ section.id }}" {% unless current_variant.available %}disabled="disabled"{% endunless %} class="btn product-form__cart-submit{% if section.settings.enable_payment_button %} btn--secondary-accent{% endif %}">
                      <span id="AddToCartText-{{ section.id }}">
                        {% unless current_variant.available %}
                        {{ 'products.product.sold_out' | t }}
                        {% else %}
                        {{ 'products.product.add_to_cart' | t }}
                        {% endunless %}
                      </span>
                    </button>
                  </div>
                  <div><h6 class="tc mv3">- OR -</h6></div>
                  {% if section.settings.enable_payment_button %}
                    <div class="product_btn">
                      {{ form | payment_button }}
                    </div>
                  {% endif %}
                </div>
              </div>
              {% endform %}

              {%- comment -%}
              Live region for announcing updated price and availability to screen readers
              {%- endcomment -%}
              <p class="visually-hidden" data-product-status aria-live="polite" role="status"></p>
            </div>

            <div class="product_review hide">
              <h4>DETAILS</h4>

              {{ product.description }}

              <h4>PAYMENT OPTIONS</h4>
              <h3><i class="fas fa-lock"></i> Secure options</h3>
              <img loading="lazy" src="{{ 'payment-option.png' | asset_url }}" alt="payment lock" />

              <h4>SHIPPING AND RETURNS</h4>
              <P>Ship back to your withins 2 weeks</P>
              <p>if thereâ€™s refund policy it would go here</p>
            </div>
          </div>
      </div>
    </div>

    {% assign s = s | plus:1 %}
  </div>
</section>

{% schema %}
  {
    "name": "Home Product",
    "settings": [

        {
        "id": "title",
        "type": "text",
        "label": "Title",
        "default": "- TOP SELLER -"
        },
        {
        "id": "tag",
        "type": "text",
        "label": "tag",
        "default": "Full T-shirt Blanket"
        },
        {
        "id": "product",
        "type": "product",
        "label": "Select Product"
        }


],
    "presets": [
      {
        "name": "Home Product",
        "category": "Custom"
      }
    ]
  }
{% endschema %}

{% stylesheet %}

{% endstylesheet %}

{% javascript %}
{% endjavascript %}
